[gd_scene load_steps=12 format=3 uid="uid://cg2nv6d3iwiak"]

[ext_resource type="Script" path="res://Scenes/Scripts/Level.gd" id="1_s35ul"]
[ext_resource type="PackedScene" uid="uid://cnhc0rg5ihi4j" path="res://Player/player.tscn" id="2_ksfdu"]
[ext_resource type="Script" path="res://SceneItems/Camera/CameraController.gd" id="3_7w67c"]
[ext_resource type="Material" uid="uid://c8pa3hmo1y5sc" path="res://Shaders/ScreenShader/screen_shader.tres" id="4_femq8"]
[ext_resource type="PackedScene" uid="uid://hlqab4swufb4" path="res://SceneItems/EnvironmentGeometry/Geometry.tscn" id="5_f0mw6"]
[ext_resource type="PackedScene" uid="uid://t00ol4bs3rua" path="res://SceneItems/Goal/goal.tscn" id="6_afubd"]
[ext_resource type="PackedScene" uid="uid://dwflg18dm1s26" path="res://SceneItems/DeathManager/death_manager.tscn" id="7_5gjvk"]
[ext_resource type="PackedScene" uid="uid://cc3uy0uivraxn" path="res://SceneItems/RigidBox/RigidBox.tscn" id="8_5yhge"]
[ext_resource type="PackedScene" uid="uid://ck6l6tsbelkxm" path="res://SceneItems/Door/door.tscn" id="9_h8yke"]
[ext_resource type="PackedScene" uid="uid://xkkaumhrsqe0" path="res://SceneItems/Button/button.tscn" id="10_elsyf"]

[sub_resource type="QuadMesh" id="QuadMesh_0fwjn"]
material = ExtResource("4_femq8")
flip_faces = true
size = Vector2(2, 2)

[node name="SS_4" type="Node3D"]
process_mode = 1
script = ExtResource("1_s35ul")

[node name="Player" parent="." instance=ExtResource("2_ksfdu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.64254, 0.624052, 0)

[node name="Skeleton3D" parent="Player/Armature" index="0"]
bones/0/position = Vector3(0.0146704, -0.137048, -92.9806)
bones/0/rotation = Quaternion(-0.685483, -0.268302, 0.249123, 0.629336)
bones/1/rotation = Quaternion(-0.00694205, 0.0403364, -0.00699692, 0.999138)
bones/2/rotation = Quaternion(0.0951982, 0.0818751, -0.0082192, 0.992052)
bones/3/rotation = Quaternion(0.0951884, 0.0818085, -0.00820042, 0.992058)
bones/4/rotation = Quaternion(0.0476425, -0.00352391, 0.000365752, 0.998858)
bones/5/rotation = Quaternion(-0.00695557, -0.00351887, 0.000591898, 0.999969)
bones/7/rotation = Quaternion(-0.576083, -0.414131, 0.598805, -0.371558)
bones/8/rotation = Quaternion(0.409841, -0.0931072, 0.0209384, 0.907151)
bones/9/rotation = Quaternion(0.0377933, 0.0619587, 0.416439, 0.906262)
bones/10/rotation = Quaternion(-0.100574, 0.17406, -0.0336848, 0.979006)
bones/11/rotation = Quaternion(0.25434, 0.141139, 0.136178, 0.94702)
bones/12/rotation = Quaternion(-0.00735445, -0.00290688, 0.10894, 0.994017)
bones/15/rotation = Quaternion(0.0565932, -0.000224079, 0.117022, 0.991516)
bones/16/rotation = Quaternion(0.200108, -0.0021695, -0.00917964, 0.979728)
bones/19/rotation = Quaternion(0.115983, 0.00727039, -0.0236339, 0.992943)
bones/20/rotation = Quaternion(0.201249, -0.00132283, 0.00799182, 0.979507)
bones/23/rotation = Quaternion(0.255528, -0.0124565, -0.0762042, 0.963713)
bones/24/rotation = Quaternion(0.287431, 0.00206744, 0.0147674, 0.957685)
bones/27/rotation = Quaternion(0.28234, -0.0111324, -0.109504, 0.952979)
bones/28/rotation = Quaternion(0.348278, 0.0119849, 0.0373823, 0.936569)
bones/31/rotation = Quaternion(0.629719, -0.37187, 0.562409, 0.385828)
bones/32/rotation = Quaternion(0.364, 0.0985869, 0.212531, 0.901452)
bones/33/rotation = Quaternion(0.0972169, 0.00566173, -0.356867, 0.929066)
bones/34/rotation = Quaternion(0.12891, -0.101577, -0.0369556, 0.985748)
bones/35/rotation = Quaternion(0.202436, -0.0013569, -0.193469, 0.959994)
bones/36/rotation = Quaternion(-0.00402613, 0.00638139, 0.0867153, 0.996205)
bones/39/rotation = Quaternion(0.029516, 0.00884556, -0.0471996, 0.99841)
bones/40/rotation = Quaternion(0.146423, 0.000309521, 0.0182247, 0.989054)
bones/43/rotation = Quaternion(0.0981508, 0.0036127, -0.0260802, 0.994823)
bones/44/rotation = Quaternion(0.305768, 0.0014438, -0.010309, 0.952049)
bones/47/rotation = Quaternion(0.194076, -0.0128687, 0.0195056, 0.980708)
bones/48/rotation = Quaternion(0.341808, -0.00315093, -0.0241491, 0.939454)
bones/52/rotation = Quaternion(0.369076, -0.0130187, -0.0563777, 0.927596)
bones/55/rotation = Quaternion(0.0780884, 0.199467, 0.971741, -0.0991673)
bones/56/rotation = Quaternion(-0.306418, 0.12066, -0.0314591, 0.943695)
bones/57/rotation = Quaternion(0.544371, -0.0661308, -0.00439633, 0.836222)
bones/58/rotation = Quaternion(0.31444, -0.0683004, -0.0012498, 0.946816)
bones/60/rotation = Quaternion(-0.123449, -0.00337828, 0.98372, 0.130552)
bones/61/rotation = Quaternion(-0.290035, 0.0816056, -0.0174758, 0.95337)
bones/62/rotation = Quaternion(0.658045, 0.108511, 0.0836856, 0.740404)

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("look_target", "position_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.06181, 2.9975, 2.49094)
size = 10.0
script = ExtResource("3_7w67c")
look_target = NodePath("../Player")
position_target = NodePath("../Player/CameraPositionTarget")
move_speed = 10.0
wall_collision_layers = 512

[node name="RayCast3D" type="RayCast3D" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0221071, -2.9975, -2.49094)

[node name="Environment" type="Node" parent="."]

[node name="ScreenShader" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.36822, 0)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_0fwjn")
skeleton = NodePath("../..")

[node name="SolidObjects" type="Node" parent="."]

[node name="Geometry" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(22.3437, 0, 0, 0, 1.00363, 0, 0, 0, 9.1917, 9.60672, 0, -1.03505)

[node name="Geometry3" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(8.32313, 0, 0, 0, 0.4016, 0, 0, 0, 0.878639, 4.78089, 0.6, -6.09276)

[node name="Geometry4" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(4.09016, 0, 0, 0, 0.4016, 0, 0, 0, 0.878639, 10.9296, 4.49006, -6.09276)

[node name="Geometry9" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(13.6157, 0, 0, 0, 1.004, 0, 0, 0, 3, 7.03513, 6.14051, -5.02685)

[node name="Geometry13" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(13.6157, 0, 0, 0, 1.43572, 0, 0, 0, 3, 19.6351, 4.94051, -5.02685)

[node name="Geometry10" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(2.27624, 0, 0, 0, 0.32278, 0, 0, 0, 3, -0.425675, 0.647175, -5.02685)
metadata/_edit_group_ = true

[node name="Geometry12" parent="SolidObjects" instance=ExtResource("5_f0mw6")]
transform = Transform3D(7.58779, 0, 0, 0, 5.64262, 0, 0, 0, 3, 12.6875, 1.47132, -5.02685)
metadata/_edit_group_ = true

[node name="Goal" parent="." node_paths=PackedStringArray("level") instance=ExtResource("6_afubd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.5, 18.708, 2, 0)
level = NodePath("..")
target_level = "SS_5"

[node name="DeathManager" parent="." instance=ExtResource("7_5gjvk")]

[node name="RigidBox" parent="." instance=ExtResource("8_5yhge")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.312, 1.029, 0)
conserve_velocity = true

[node name="Door" parent="." node_paths=PackedStringArray("buttons") instance=ExtResource("9_h8yke")]
transform = Transform3D(0.5, 0, 0, 0, 6.069, 0, 0, 0, 7.063, 16.0236, 3.22628, 0)
buttons = [NodePath("../Button")]
speed = 3.0

[node name="Door3" parent="." node_paths=PackedStringArray("buttons") instance=ExtResource("9_h8yke")]
transform = Transform3D(5, 0, 0, 0, 3.92, 0, 0, 0, 1, 6.44093, 2.38485, -5.01767)
buttons = [NodePath("../Button3")]
reverse = true
speed = 3.0

[node name="Button" parent="." instance=ExtResource("10_elsyf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.6297, 4.27597, -4.80416)

[node name="Button3" parent="." instance=ExtResource("10_elsyf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.564, 0.502, 0)

[editable path="Player"]
