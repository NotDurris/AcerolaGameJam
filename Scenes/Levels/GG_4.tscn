[gd_scene load_steps=12 format=3 uid="uid://3hbm64tvecx1"]

[ext_resource type="Script" path="res://Scenes/Scripts/Level.gd" id="1_m0gpc"]
[ext_resource type="PackedScene" uid="uid://cnhc0rg5ihi4j" path="res://Player/player.tscn" id="2_ijai0"]
[ext_resource type="Script" path="res://SceneItems/Camera/CameraController.gd" id="3_0vbl3"]
[ext_resource type="Material" uid="uid://c8pa3hmo1y5sc" path="res://Shaders/ScreenShader/screen_shader.tres" id="4_0h0ho"]
[ext_resource type="PackedScene" uid="uid://hlqab4swufb4" path="res://SceneItems/EnvironmentGeometry/Geometry.tscn" id="6_vf33j"]
[ext_resource type="PackedScene" uid="uid://t00ol4bs3rua" path="res://SceneItems/Goal/goal.tscn" id="7_k8h8g"]
[ext_resource type="PackedScene" uid="uid://dwflg18dm1s26" path="res://SceneItems/DeathManager/death_manager.tscn" id="8_7jnl7"]
[ext_resource type="PackedScene" uid="uid://xkkaumhrsqe0" path="res://SceneItems/Button/button.tscn" id="9_n8y7q"]
[ext_resource type="PackedScene" uid="uid://ck6l6tsbelkxm" path="res://SceneItems/Door/door.tscn" id="10_1ws3f"]
[ext_resource type="PackedScene" uid="uid://cc3uy0uivraxn" path="res://SceneItems/RigidBox/RigidBox.tscn" id="11_upot6"]

[sub_resource type="QuadMesh" id="QuadMesh_0fwjn"]
material = ExtResource("4_0h0ho")
flip_faces = true
size = Vector2(2, 2)

[node name="GG_4" type="Node3D"]
process_mode = 1
script = ExtResource("1_m0gpc")

[node name="Player" parent="." instance=ExtResource("2_ijai0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.64359, 0.52971, 0)
gravity = false

[node name="Skeleton3D" parent="Player/Armature" index="0"]
bones/0/position = Vector3(-0.024152, -0.387698, -92.8384)
bones/0/rotation = Quaternion(-0.684917, -0.268258, 0.249879, 0.629672)
bones/1/rotation = Quaternion(-0.00582441, 0.0404906, -0.00730389, 0.999136)
bones/2/rotation = Quaternion(0.0973911, 0.0820571, -0.00872346, 0.991819)
bones/3/rotation = Quaternion(0.097426, 0.0819992, -0.00870186, 0.991821)
bones/4/rotation = Quaternion(0.0455841, -0.0035885, 0.000486487, 0.998954)
bones/5/rotation = Quaternion(-0.00914347, -0.00357034, 0.00069698, 0.999952)
bones/7/rotation = Quaternion(-0.581441, -0.407579, 0.599899, -0.368682)
bones/8/rotation = Quaternion(0.405098, -0.096489, 0.0205884, 0.908935)
bones/9/rotation = Quaternion(0.03512, 0.0597764, 0.412574, 0.908282)
bones/10/rotation = Quaternion(-0.116369, 0.17472, -0.0318773, 0.977198)
bones/11/rotation = Quaternion(0.257017, 0.142475, 0.135593, 0.94618)
bones/12/rotation = Quaternion(-0.00731749, -0.0028313, 0.109084, 0.994002)
bones/15/rotation = Quaternion(0.028723, -0.0036235, 0.114586, 0.992991)
bones/16/rotation = Quaternion(0.153976, -0.00105168, -0.0138388, 0.987977)
bones/19/rotation = Quaternion(0.112932, 0.00813116, -0.0282531, 0.993168)
bones/20/rotation = Quaternion(0.196973, -0.00132116, 0.00761916, 0.980378)
bones/23/rotation = Quaternion(0.252993, -0.0105598, -0.0804506, 0.96406)
bones/24/rotation = Quaternion(0.283157, 0.00206496, 0.0146498, 0.958959)
bones/27/rotation = Quaternion(0.278741, -0.0090593, -0.113596, 0.953581)
bones/28/rotation = Quaternion(0.344239, 0.0118028, 0.0374538, 0.938061)
bones/31/rotation = Quaternion(0.636209, -0.363977, 0.562863, 0.382026)
bones/32/rotation = Quaternion(0.354239, 0.105841, 0.211805, 0.904683)
bones/33/rotation = Quaternion(0.0912209, 0.0146086, -0.355177, 0.930223)
bones/34/rotation = Quaternion(0.126722, -0.107542, -0.0412707, 0.985227)
bones/35/rotation = Quaternion(0.202595, -0.00144631, -0.193714, 0.959911)
bones/36/rotation = Quaternion(-0.00368027, 0.00620924, 0.0870635, 0.996177)
bones/39/rotation = Quaternion(0.0287807, 0.00864555, -0.0460474, 0.998487)
bones/40/rotation = Quaternion(0.146861, 0.000321622, 0.0181856, 0.98899)
bones/43/rotation = Quaternion(0.0982034, 0.00364661, -0.026426, 0.994809)
bones/44/rotation = Quaternion(0.291407, 0.00136184, -0.00923324, 0.956554)
bones/47/rotation = Quaternion(0.186828, -0.0131125, 0.0197198, 0.982107)
bones/48/rotation = Quaternion(0.334624, -0.00308724, -0.0237155, 0.942048)
bones/52/rotation = Quaternion(0.364194, -0.0129686, -0.0562416, 0.929533)
bones/55/rotation = Quaternion(0.0775084, 0.202463, 0.971066, -0.100161)
bones/56/rotation = Quaternion(-0.307739, 0.119852, -0.0311747, 0.943377)
bones/57/rotation = Quaternion(0.544619, -0.0667614, -0.00551313, 0.836004)
bones/58/rotation = Quaternion(0.314468, -0.0683962, -0.00119133, 0.9468)
bones/60/rotation = Quaternion(-0.122879, 0.00243822, 0.983894, 0.129801)
bones/61/rotation = Quaternion(-0.298396, 0.0810428, -0.0187004, 0.950811)
bones/62/rotation = Quaternion(0.661245, 0.108512, 0.0835154, 0.737568)

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("look_target", "position_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0221071, 2.9975, 2.49094)
size = 10.0
script = ExtResource("3_0vbl3")
look_target = NodePath("../Player")
position_target = NodePath("../Player/CameraPositionTarget")
move_speed = 10.0
wall_collision_layers = 512

[node name="RayCast3D" type="RayCast3D" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0221071, -2.9975, -2.49094)

[node name="Environment" type="Node" parent="."]

[node name="ScreenShader" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.36822, 0)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_0fwjn")
skeleton = NodePath("../..")

[node name="SolidObjects" type="Node" parent="."]

[node name="Geometry" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(11.1731, 0, 0, 0, 1.00363, 0, 0, 0, 7.14611, -7.94843, 0, 0)

[node name="Geometry6" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(11.1731, 0, 0, 0, 1.00363, 0, 0, 0, 7.14611, 3.05656, -2.8185, 0)

[node name="Geometry5" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(11.1731, 0, 0, 0, 3.441, 0, 0, 0, 7.14611, -7.94843, -1.69045, 0)

[node name="Geometry2" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(11.1731, 0, 0, 0, 1.00363, 0, 0, 0, 7.14611, 8.42211, 4.81621, 0)

[node name="Geometry4" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(11.1731, 0, 0, 0, 4.31069, 0, 0, 0, 7.14611, 13.0167, -1.15155, 0)

[node name="Geometry3" parent="SolidObjects" instance=ExtResource("6_vf33j")]
transform = Transform3D(9.09198, -0.709935, 0, 9.09198, 0.709935, 0, 0, 0, 7.146, -8.55133, 4.68948, -9.53674e-07)

[node name="Goal" parent="." node_paths=PackedStringArray("level") instance=ExtResource("7_k8h8g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.5, 0.415065, -1.27397, 0)
level = NodePath("..")
target_level = "GG_5"

[node name="DeathManager" parent="." instance=ExtResource("8_7jnl7")]

[node name="Button" parent="." instance=ExtResource("9_n8y7q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.59653, 0.502, -1.70203)

[node name="Button2" parent="." instance=ExtResource("9_n8y7q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.59653, 0.502, 2.13647)

[node name="Button3" parent="." instance=ExtResource("9_n8y7q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.42898, 5.23839, -0.271757)

[node name="Door" parent="." node_paths=PackedStringArray("buttons") instance=ExtResource("10_1ws3f")]
transform = Transform3D(0.707107, 5.89727, 1.05697e-06, 0.707107, -5.89727, -6.11959e-07, 4.49529e-08, 1.40602e-06, -7, 6.21807, 1.74046, 0)
buttons = [NodePath("../Button")]
reverse = true
speed = 5.0

[node name="Door2" parent="." node_paths=PackedStringArray("buttons") instance=ExtResource("10_1ws3f")]
transform = Transform3D(3.18, 0, 0, 0, 8.5, 0, 0, 0, 7, 0.528058, 1.08838, 0)
buttons = [NodePath("../Button2")]
reverse = true
speed = 5.0

[node name="Door3" parent="." node_paths=PackedStringArray("buttons") instance=ExtResource("10_1ws3f")]
transform = Transform3D(-1.39002e-07, -13, 0, 3.18, -5.68248e-07, 0, 0, 0, 7, 3.37459, -1.39224, 0)
buttons = [NodePath("../Button3")]
preset = false
speed = 2.0

[node name="RigidBox" parent="." instance=ExtResource("11_upot6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.04552, 0.999, -1.00537)
gravity = false

[node name="RigidBox2" parent="." instance=ExtResource("11_upot6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.04552, 0.999, 1.48327)
gravity = false

[editable path="Player"]
