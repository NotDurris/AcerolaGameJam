[gd_scene load_steps=15 format=3 uid="uid://boqbewyiyramc"]

[ext_resource type="Script" path="res://Scenes/Level.gd" id="1_i60ck"]
[ext_resource type="PackedScene" uid="uid://hlqab4swufb4" path="res://SceneItems/EnvironmentGeometry/Geometry.tscn" id="2_4rnyl"]
[ext_resource type="Script" path="res://SceneItems/Camera/CameraController.gd" id="2_6aovx"]
[ext_resource type="PackedScene" uid="uid://cnhc0rg5ihi4j" path="res://Player/player.tscn" id="2_xdxes"]
[ext_resource type="Material" uid="uid://c8pa3hmo1y5sc" path="res://Shaders/ScreenShader/screen_shader.tres" id="5_8x6oi"]
[ext_resource type="Shader" path="res://Shaders/ScreenShader/FoggyEdge.gdshader" id="5_xstxd"]
[ext_resource type="Script" path="res://Scenes/ScreenShader.gd" id="6_j66n6"]
[ext_resource type="PackedScene" uid="uid://cc3uy0uivraxn" path="res://SceneItems/RigidBox/RigidBox.tscn" id="7_70v7k"]
[ext_resource type="Script" path="res://Scripts/ColourController.gd" id="8_fogit"]
[ext_resource type="Material" uid="uid://dnw70yeram28j" path="res://Shaders/ObjectShader/Bright.tres" id="9_1vk4u"]
[ext_resource type="Material" uid="uid://c158qywkkv1j7" path="res://Shaders/ObjectShader/Mid.tres" id="10_ya8rt"]
[ext_resource type="Material" uid="uid://btpy4hu7axk8g" path="res://Shaders/ObjectShader/Dark.tres" id="11_3erf6"]

[sub_resource type="QuadMesh" id="QuadMesh_0fwjn"]
material = ExtResource("5_8x6oi")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_y3cim"]
render_priority = 0
shader = ExtResource("5_xstxd")
shader_parameter/edge_threshold = 0.2
shader_parameter/fog_depth_threshold = 20.0
shader_parameter/fog_falloff = 0.5
shader_parameter/line_colour = Color(1, 1, 1, 1)
shader_parameter/background_colour = Color(0, 0, 0, 1)
shader_parameter/background_line_colour = Color(0, 0, 0, 1)

[node name="Game" type="Node3D"]
script = ExtResource("1_i60ck")

[node name="Player" parent="." instance=ExtResource("2_xdxes")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.82268, 0)

[node name="Skeleton3D" parent="Player/Armature" index="0"]
bones/0/position = Vector3(0.0278819, -0.743917, -92.7204)
bones/0/rotation = Quaternion(-0.684399, -0.268007, 0.25002, 0.630286)
bones/1/rotation = Quaternion(-0.00507117, 0.0402985, -0.00748306, 0.999147)
bones/2/rotation = Quaternion(0.0991124, 0.0817957, -0.00910047, 0.991667)
bones/3/rotation = Quaternion(0.0991125, 0.0817958, -0.00910048, 0.991667)
bones/4/rotation = Quaternion(0.0449454, -0.00368359, 0.000464438, 0.998983)
bones/5/rotation = Quaternion(-0.00982721, -0.00365243, 0.00063885, 0.999945)
bones/7/rotation = Quaternion(-0.585489, -0.402794, 0.600086, -0.367228)
bones/8/rotation = Quaternion(0.399909, -0.100704, 0.0216145, 0.91075)
bones/9/rotation = Quaternion(0.0320194, 0.0560994, 0.406938, 0.911169)
bones/10/rotation = Quaternion(-0.144667, 0.174306, -0.0285256, 0.973589)
bones/11/rotation = Quaternion(0.258311, 0.142242, 0.13868, 0.945416)
bones/12/rotation = Quaternion(-0.00691174, -0.00261596, 0.109109, 0.994002)
bones/15/rotation = Quaternion(0.0198114, -0.00395374, 0.113854, 0.993292)
bones/16/rotation = Quaternion(0.146841, -0.000829702, -0.0145459, 0.989053)
bones/19/rotation = Quaternion(0.108961, 0.00890118, -0.033867, 0.993429)
bones/20/rotation = Quaternion(0.192533, -0.00121946, 0.00723065, 0.981263)
bones/23/rotation = Quaternion(0.249002, -0.00872115, -0.0855017, 0.964682)
bones/24/rotation = Quaternion(0.278853, 0.00206071, 0.0145149, 0.960222)
bones/27/rotation = Quaternion(0.27474, -0.00699292, -0.118542, 0.954158)
bones/28/rotation = Quaternion(0.339926, 0.0116065, 0.0375291, 0.939631)
bones/31/rotation = Quaternion(0.6398, -0.359586, 0.563195, 0.379691)
bones/32/rotation = Quaternion(0.345706, 0.113348, 0.208835, 0.90776)
bones/33/rotation = Quaternion(0.087535, 0.023179, -0.355481, 0.930287)
bones/34/rotation = Quaternion(0.111758, -0.108363, -0.0381397, 0.987073)
bones/35/rotation = Quaternion(0.200218, 0.000341799, -0.185259, 0.962077)
bones/36/rotation = Quaternion(-0.00131535, 0.00581613, 0.0945959, 0.995498)
bones/39/rotation = Quaternion(0.0246122, 0.00833126, -0.0446397, 0.998665)
bones/40/rotation = Quaternion(0.146021, 0.000303758, 0.0182285, 0.989114)
bones/43/rotation = Quaternion(0.098918, 0.00364365, -0.0270337, 0.994722)
bones/44/rotation = Quaternion(0.261061, 0.00121315, -0.00698395, 0.965296)
bones/47/rotation = Quaternion(0.172085, -0.0135768, 0.0204582, 0.984776)
bones/48/rotation = Quaternion(0.320313, -0.00296178, -0.0227793, 0.947033)
bones/52/rotation = Quaternion(0.349495, -0.0123426, -0.0556111, 0.935205)
bones/55/rotation = Quaternion(0.0771645, 0.205536, 0.970337, -0.101225)
bones/56/rotation = Quaternion(-0.308608, 0.120077, -0.0314553, 0.943055)
bones/57/rotation = Quaternion(0.543266, -0.0673375, -0.00664574, 0.83683)
bones/58/rotation = Quaternion(0.314163, -0.0673681, -0.000893455, 0.946975)
bones/60/rotation = Quaternion(-0.122722, 0.00878118, 0.983985, 0.128982)
bones/61/rotation = Quaternion(-0.30662, 0.0806509, -0.0190559, 0.948218)
bones/62/rotation = Quaternion(0.663956, 0.108077, 0.082607, 0.735295)

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("look_target", "position_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0221071, 2.9975, 2.49094)
size = 10.0
script = ExtResource("2_6aovx")
look_target = NodePath("../Player")
position_target = NodePath("../Player/CameraPositionTarget")
move_speed = 10.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.814379, 0.580334, 0, -0.580334, 0.814379, 0, 4.35924, 0)

[node name="Geometry" parent="." instance=ExtResource("2_4rnyl")]
transform = Transform3D(69.8317, 0, 0, 0, 1.00363, 0, 0, 0, 7.14611, 0, 0, 0)

[node name="Geometry2" parent="." instance=ExtResource("2_4rnyl")]
transform = Transform3D(44.618, 0, 0, 0, 9.07134, 0, 0, 0, 1.67414, 0, 4.25304, -3.65538)

[node name="Geometry3" parent="." instance=ExtResource("2_4rnyl")]
transform = Transform3D(1.0009, 0, 0, 0, 4.6337, 0, 0, 0, 7.25753, 6.46966, 0.873034, 0)

[node name="ScreenShader" type="MeshInstance3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.36822, 0)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_0fwjn")
script = ExtResource("6_j66n6")
material = SubResource("ShaderMaterial_y3cim")
target = NodePath("../Player")

[node name="RigidBox" parent="." instance=ExtResource("7_70v7k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.14392, 0)

[node name="ColourController" type="Node" parent="."]
script = ExtResource("8_fogit")
light_mat = ExtResource("9_1vk4u")
mid_mat = ExtResource("10_ya8rt")
dark_mat = ExtResource("11_3erf6")
screen_mat = ExtResource("5_8x6oi")
colour = Color(0.588235, 0.25098, 0, 1)

[editable path="Player"]
[editable path="Geometry"]
